# Netlify Build and Functions Configuration
# Netlify Functions (Serverless Backend) அமைப்புகள்

[build]
  # Functions are placed in netlify/functions for free hosting
  functions = "netlify/functions"
  publish = "."
  command = "echo 'Building static site...'"

# Netlify Headers for security and CORS issues (Cloudinary etc.)
[[headers]]
  for = "/*"
  [headers.values]
    Access-Control-Allow-Origin = "*"
    Access-Control-Allow-Headers = "Content-Type"
    Access-Control-Allow-Methods = "GET, POST, OPTIONS"

# Netlify Redirects - Enables clean URL routing for all HTML pages.
# Status code 200 ensures the URL remains clean (no .html visible).
[[redirects]]
  from = "/profile"
  to = "/profile.html"
  status = 200

[[redirects]]
  from = "/create"
  to = "/create.html"
  status = 200
  
[[redirects]]
  from = "/settings"
  to = "/settings.html"
  status = 200
  
[[redirects]]
  from = "/admin"
  to = "/admin.html"
  status = 200

[[redirects]]
  from = "/forum"
  to = "/forum.html"
  status = 200

[[redirects]]
  from = "/chat"
  to = "/chat.html"
  status = 200

[[redirects]]
  from = "/monetization"
  to = "/monetization.html"
  status = 200

[[redirects]]
  from = "/web3"
  to = "/web3.html"
  status = 200

[[redirects]]
  from = "/leaderboard"
  to = "/leaderboard.html"
  status = 200

[[redirects]]
  from = "/tax_ledger"
  to = "/tax_ledger.html"
  status = 200

[[redirects]]
  from = "/poem_view"
  to = "/poem_view.html"
  status = 200

[[redirects]]
  from = "/search"
  to = "/search.html"
  status = 200

# Fallback: Redirects any missing paths to a 404 page (or index.html if using SPA)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 404 # Can use 404 or 200 depending on preference
